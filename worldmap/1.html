<html>
  <body>
    <object data="world.svg"></object>
    <script>
      // https://github.com/VictorCazanave/svg-maps/blob/master/packages/world/world.svg
      // https://en.wikipedia.org/wiki/List_of_countries_by_intentional_homicide_rate
      // var arr = [...$0.querySelectorAll('tr')].map(i => [
      //      i.children[0].textContent.trim(), i.children[3].textContent.trim()])
      // copy(arr)
      // svg.querySelector('path[name=Russia]').style = 'fill:green'

      setTimeout(() => {
        const svg = document.querySelector('object').contentDocument;
        svg.querySelector('svg').style.stroke = '#c5c5c5';
        const paths = svg.querySelectorAll('path');
        [...paths].forEach(i => (i.style = 'fill:gray'));
        const cotedIvoirePath = [...paths].find(i => i.getAttribute('data-name').slice(-6) === 'Ivoire');
        const data = JSON.parse(window.data);
        data.forEach(i => {
          let country;
          if (i[0] === `Laos`) {
            i[0] = `Lao PDR`;
            // i[0] = `Lao People's Democratic Republic`;
          } else if (i[0] === `DR Congo`) {
            i[0] = `Dem. Rep. Congo`;
            // i[0] = `Democratic Republic of Congo`;
          } else if (i[0] === `Congo`) {
            // i[0] = `Republic of Congo`;
          } else if (i[0] === `North Macedonia`) {
            i[0] = `Macedonia`;
          } else if (i[0] === `Palestine`) {
            i[0] = `Palestinian Territories`;
          } else if (i[0] === `Eswatini`) {
            i[0] = `Swaziland`;
          } else if (i[0] === `North Korea`) {
            i[0] = `Dem. Rep. Korea`;
          } else if (i[0] === `South Korea`) {
            i[0] = `Korea`;
          } else if (i[0] === `Czech Republic`) {
            i[0] = `Czech Rep.`;
          } else if (i[0] === `South Sudan`) {
            i[0] = `S. Sudan`;
          } else if (i[0] === `Central African Republic`) {
            i[0] = `Central African Rep.`;
          } else if (i[0] === `Dominican Republic`) {
            i[0] = `Dominican Rep.`;
          } else if (i[0] === `Bosnia and Herzegovina`) {
            i[0] = `Bosnia and Herz.`;
          } else if (i[0] === `Equatorial Guinea`) {
            i[0] = `Eq. Guinea`;
          } else if (i[0] === `Solomon Islands`) {
            i[0] = `Solomon Is.`;
          }

          country = svg.querySelector(`path[data-name="${i[0]}"]`);
          if (i[0] === `Côte d'Ivoire`) {
            country = cotedIvoirePath;
          }
          if (!country) {
            return console.error(`Error: country not found ${i[0]}`);
          }

          let rate = Number(i[1]);
          let color = '#c0c0ff'; // rate <= 1
          if (rate > 1 && rate <= 5) {
            color = '#8080ff';
          } else if (rate > 5 && rate <= 10) {
            color = '#0000c0';
          } else if (rate > 10 && rate <= 22.2) {
            color = 'navy';
          } else if (rate > 22.2) {
            color = '#00005c';
          }

          country.style = `fill:${color}`;
          if (i[0] === 'Norway') {
            // const country = svg.querySelector(`path[data-name="Svalbard and Jan Mayen"]`);
            // country.style = `fill:${color}`;
          } else if (i[0] === 'Morocco') {
            // const country = svg.querySelector(`path[data-name="Western Sahara"]`);
            const country = svg.querySelector(`path[data-name="W. Sahara"]`);
            country.style = `fill:${color}`;
          }
        });
        var svgData = document.querySelector('object').contentDocument.querySelector('svg').outerHTML;
        var svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });
        var svgUrl = URL.createObjectURL(svgBlob);
        var downloadLink = document.createElement('a');
        downloadLink.href = svgUrl;
        downloadLink.download = 'worldrate4.svg';
        document.body.appendChild(downloadLink);
        downloadLink.click();
      }, 1000);

      window.data = `[
  [
    "Burundi",
    "6.02"
  ],
  [
    "Comoros",
    "7.70"
  ],
  [
    "Djibouti",
    "6.48"
  ],
  [
    "Eritrea",
    "8.04"
  ],
  [
    "Ethiopia",
    "7.56"
  ],
  [
    "Kenya",
    "4.93"
  ],
  [
    "Madagascar",
    "7.69"
  ],
  [
    "Malawi",
    "1.73"
  ],
  [
    "Mauritius",
    "2.92"
  ],
  [
    "Mayotte",
    "5.93"
  ],
  [
    "Mozambique",
    "3.40"
  ],
  [
    "Réunion",
    "1.82"
  ],
  [
    "Rwanda",
    "2.52"
  ],
  [
    "Seychelles",
    "12.74"
  ],
  [
    "Somalia",
    "4.31"
  ],
  [
    "South Sudan",
    "13.90"
  ],
  [
    "Uganda",
    "10.42"
  ],
  [
    "Tanzania",
    "6.95"
  ],
  [
    "Zambia",
    "5.30"
  ],
  [
    "Zimbabwe",
    "6.67"
  ],
  [
    "Angola",
    "4.85"
  ],
  [
    "Cameroon",
    "1.40"
  ],
  [
    "Central African Republic",
    "19.76"
  ],
  [
    "Chad",
    "9.04"
  ],
  [
    "Congo",
    "9.32"
  ],
  [
    "DR Congo",
    "13.55"
  ],
  [
    "Equatorial Guinea",
    "2.31"
  ],
  [
    "Gabon",
    "8.04"
  ],
  [
    "São Tomé and Príncipe",
    "3.36"
  ],
  [
    "Algeria",
    "1.36"
  ],
  [
    "Egypt",
    "2.51"
  ],
  [
    "Libya",
    "2.50"
  ],
  [
    "Morocco",
    "1.42"
  ],
  [
    "Sudan",
    "5.16"
  ],
  [
    "Tunisia",
    "3.05"
  ],
  [
    "Botswana",
    "15.04"
  ],
  [
    "Eswatini",
    "9.50"
  ],
  [
    "Lesotho",
    "41.25"
  ],
  [
    "Namibia",
    "17.14"
  ],
  [
    "South Africa",
    "36.40"
  ],
  [
    "Benin",
    "1.10"
  ],
  [
    "Burkina Faso",
    "1.30"
  ],
  [
    "Cape Verde",
    "6.80"
  ],
  [
    "Côte d'Ivoire",
    "11.63"
  ],
  [
    "Gambia",
    "9.13"
  ],
  [
    "Ghana",
    "2.10"
  ],
  [
    "Guinea",
    "8.82"
  ],
  [
    "Guinea-Bissau",
    "1.10"
  ],
  [
    "Liberia",
    "3.23"
  ],
  [
    "Mali",
    "10.90"
  ],
  [
    "Mauritania",
    "9.94"
  ],
  [
    "Niger",
    "4.44"
  ],
  [
    "Nigeria",
    "9.85"
  ],
  [
    "Saint Helena",
    "0.00"
  ],
  [
    "Senegal",
    "7.38"
  ],
  [
    "Sierra Leone",
    "1.71"
  ],
  [
    "Togo",
    "9.00"
  ],
  [
    "Anguilla",
    "27.66"
  ],
  [
    "Antigua and Barbuda",
    "10.33"
  ],
  [
    "Aruba",
    "1.93"
  ],
  [
    "Bahamas",
    "30.90"
  ],
  [
    "Barbados",
    "9.7"
  ],
  [
    "British Virgin Islands",
    "8.37"
  ],
  [
    "Cayman Islands",
    "8.45"
  ],
  [
    "Cuba",
    "4.99"
  ],
  [
    "Curaçao",
    "19.19"
  ],
  [
    "Dominica",
    "25.70"
  ],
  [
    "Dominican Republic",
    "10.05"
  ],
  [
    "Grenada",
    "11.10"
  ],
  [
    "Guadeloupe",
    "8.01"
  ],
  [
    "Haiti",
    "6.68"
  ],
  [
    "Jamaica",
    "43.85"
  ],
  [
    "Martinique",
    "2.78"
  ],
  [
    "Montserrat",
    "19.88"
  ],
  [
    "Puerto Rico",
    "21.09"
  ],
  [
    "Saint Kitts and Nevis",
    "34.23"
  ],
  [
    "Saint Lucia",
    "21.44"
  ],
  [
    "Saint Vincent and the Grenadines",
    "36.46"
  ],
  [
    "Trinidad and Tobago",
    "30.88"
  ],
  [
    "Turks and Caicos Islands",
    "5.93"
  ],
  [
    "US Virgin Islands",
    "49.26"
  ],
  [
    "Belize",
    "37.90"
  ],
  [
    "Costa Rica",
    "11.26"
  ],
  [
    "El Salvador",
    "52.02"
  ],
  [
    "Guatemala",
    "22.50"
  ],
  [
    "Honduras",
    "38.93"
  ],
  [
    "Mexico",
    "29.07"
  ],
  [
    "Nicaragua",
    "7.37"
  ],
  [
    "Panama",
    "9.39"
  ],
  [
    "Bermuda",
    "8.20"
  ],
  [
    "Canada",
    "1.76"
  ],
  [
    "Greenland",
    "5.31"
  ],
  [
    "Saint Pierre and Miquelon",
    "15.93"
  ],
  [
    "United States",
    "4.96"
  ],
  [
    "Argentina",
    "5.32"
  ],
  [
    "Bolivia",
    "6.30"
  ],
  [
    "Brazil",
    "27.38"
  ],
  [
    "Chile",
    "4.40"
  ],
  [
    "Colombia",
    "25.34"
  ],
  [
    "Ecuador",
    "5.80"
  ],
  [
    "French Guiana",
    "13.15"
  ],
  [
    "Guyana",
    "14.25"
  ],
  [
    "Paraguay",
    "7.14"
  ],
  [
    "Peru",
    "7.70"
  ],
  [
    "Suriname",
    "5.50"
  ],
  [
    "Uruguay",
    "12.06"
  ],
  [
    "Venezuela",
    "36.69"
  ],
  [
    "Kazakhstan",
    "5.00"
  ],
  [
    "Kyrgyzstan",
    "2.19"
  ],
  [
    "Tajikistan",
    "1.61"
  ],
  [
    "Turkmenistan",
    "4.22"
  ],
  [
    "Uzbekistan",
    "1.10"
  ],
  [
    "China",
    "0.53"
  ],
  [
    "Hong Kong",
    "0.65"
  ],
  [
    "Japan",
    "0.26"
  ],
  [
    "Macau",
    "0.32"
  ],
  [
    "Mongolia",
    "6.18"
  ],
  [
    "North Korea",
    "4.40"
  ],
  [
    "South Korea",
    "0.60"
  ],
  [
    "Taiwan",
    "0.82"
  ],
  [
    "Brunei",
    "0.49"
  ],
  [
    "Cambodia",
    "1.84"
  ],
  [
    "Indonesia",
    "0.40"
  ],
  [
    "Laos",
    "7.01"
  ],
  [
    "Malaysia",
    "2.11"
  ],
  [
    "Myanmar",
    "2.27"
  ],
  [
    "Philippines",
    "6.46"
  ],
  [
    "Singapore",
    "0.16"
  ],
  [
    "Thailand",
    "3.24"
  ],
  [
    "Timor-Leste",
    "3.95"
  ],
  [
    "Vietnam",
    "1.52"
  ],
  [
    "Afghanistan",
    "6.66"
  ],
  [
    "Bangladesh",
    "2.37"
  ],
  [
    "Bhutan",
    "1.19"
  ],
  [
    "India",
    "3.08"
  ],
  [
    "Iran",
    "2.47"
  ],
  [
    "Maldives",
    "0.75"
  ],
  [
    "Nepal",
    "2.16"
  ],
  [
    "Pakistan",
    "3.88"
  ],
  [
    "Sri Lanka",
    "2.42"
  ],
  [
    "Armenia",
    "1.69"
  ],
  [
    "Azerbaijan",
    "2.20"
  ],
  [
    "Bahrain",
    "0.52"
  ],
  [
    "Cyprus",
    "1.26"
  ],
  [
    "Georgia",
    "2.22"
  ],
  [
    "Iraq",
    "9.85"
  ],
  [
    "Iraq (excluding Kurdistan)",
    "10.08"
  ],
  [
    "Kurdistan Region (Iraq)",
    "2.20"
  ],
  [
    "Israel",
    "1.36"
  ],
  [
    "Jordan",
    "1.40"
  ],
  [
    "Kuwait",
    "1.80"
  ],
  [
    "Lebanon",
    "2.49"
  ],
  [
    "Oman",
    "0.27"
  ],
  [
    "Qatar",
    "0.38"
  ],
  [
    "Saudi Arabia",
    "1.30"
  ],
  [
    "Palestine",
    "0.49"
  ],
  [
    "Syria",
    "0.88"
  ],
  [
    "Turkey",
    "2.59"
  ],
  [
    "United Arab Emirates",
    "0.50"
  ],
  [
    "Yemen",
    "6.66"
  ],
  [
    "Belarus",
    "2.39"
  ],
  [
    "Bulgaria",
    "1.30"
  ],
  [
    "Czech Republic",
    "0.60"
  ],
  [
    "Hungary",
    "2.50"
  ],
  [
    "Poland",
    "0.73"
  ],
  [
    "Moldova",
    "4.10"
  ],
  [
    "Romania",
    "1.28"
  ],
  [
    "Russia",
    "8.21"
  ],
  [
    "Slovakia",
    "1.37"
  ],
  [
    "Ukraine",
    "6.20"
  ],
  [
    "Channel Islands",
    "0.00"
  ],
  [
    "Denmark",
    "1.01"
  ],
  [
    "Estonia",
    "2.12"
  ],
  [
    "Finland",
    "1.63"
  ],
  [
    "Iceland",
    "0.89"
  ],
  [
    "Ireland",
    "0.87"
  ],
  [
    "Isle of Man",
    "0.00"
  ],
  [
    "Latvia",
    "4.36"
  ],
  [
    "Lithuania",
    "4.57"
  ],
  [
    "Norway",
    "0.47"
  ],
  [
    "Sweden",
    "1.08"
  ],
  [
    "",
    "1.20"
  ],
  [
    "Northern Ireland",
    "1.22"
  ],
  [
    "Scotland",
    "1.12"
  ],
  [
    "United Kingdom",
    "1.20"
  ],
  [
    "Albania",
    "2.29"
  ],
  [
    "Andorra",
    "0.00"
  ],
  [
    "Bosnia and Herzegovina",
    "1.17"
  ],
  [
    "Croatia",
    "0.58"
  ],
  [
    "Gibraltar",
    "3.01"
  ],
  [
    "Greece",
    "0.94"
  ],
  [
    "Vatican City",
    "0.00"
  ],
  [
    "Italy",
    "0.57"
  ],
  [
    "Kosovo",
    "2.40"
  ],
  [
    "Malta",
    "1.59"
  ],
  [
    "Montenegro",
    "2.23"
  ],
  [
    "Portugal",
    "0.79"
  ],
  [
    "San Marino",
    "0.00"
  ],
  [
    "Serbia",
    "1.23"
  ],
  [
    "Slovenia",
    "0.48"
  ],
  [
    "Spain",
    "0.62"
  ],
  [
    "North Macedonia",
    "1.20"
  ],
  [
    "Austria",
    "0.97"
  ],
  [
    "Belgium",
    "1.70"
  ],
  [
    "France",
    "1.20"
  ],
  [
    "Germany",
    "0.95"
  ],
  [
    "Liechtenstein",
    "2.64"
  ],
  [
    "Luxembourg",
    "0.30"
  ],
  [
    "Monaco",
    "0.00"
  ],
  [
    "Netherlands",
    "0.59"
  ],
  [
    "Switzerland",
    "0.59"
  ],
  [
    "Australia",
    "0.89"
  ],
  [
    "New Zealand",
    "0.70"
  ],
  [
    "Fiji",
    "2.26"
  ],
  [
    "New Caledonia",
    "3.23"
  ],
  [
    "Papua New Guinea",
    "7.85"
  ],
  [
    "Solomon Islands",
    "3.77"
  ],
  [
    "Vanuatu",
    "2.13"
  ],
  [
    "Guam",
    "2.51"
  ],
  [
    "Kiribati",
    "7.50"
  ],
  [
    "Micronesia",
    "4.67"
  ],
  [
    "Nauru",
    "0.00"
  ],
  [
    "Palau",
    "11.17"
  ],
  [
    "American Samoa",
    "5.40"
  ],
  [
    "Cook Islands",
    "3.49"
  ],
  [
    "French Polynesia",
    "0.38"
  ],
  [
    "Niue",
    "0.00"
  ],
  [
    "Samoa",
    "3.15"
  ],
  [
    "Tonga",
    "0.95"
  ],
  [
    "Tuvalu",
    "18.65"
  ]
]`;
    </script>
  </body>
</html>
